"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var rxjs_1 = require("rxjs");
var chai_1 = require("chai");
describe('ConnectableObservable', function () {
    it('should connect when connect is called', function () {
        var results1 = [];
        var results2 = [];
        var source = rxjs_1.of(1, 2, 3);
        var connectable = new rxjs_1.ConnectableObservable(source, new rxjs_1.Subject());
        connectable.subscribe({
            next: function (value) { results1.push(value); },
            complete: function () { results1.push('done'); },
        });
        connectable.subscribe({
            next: function (value) { results2.push(value); },
            complete: function () { results2.push('done'); },
        });
        chai_1.expect(results1).to.deep.equal([]);
        chai_1.expect(results2).to.deep.equal([]);
        var subs = connectable.connect();
        chai_1.expect(subs).to.be.an.instanceof(rxjs_1.Subscription);
        chai_1.expect(results1).to.deep.equal([1, 2, 3, 'done']);
        chai_1.expect(results2).to.deep.equal([1, 2, 3, 'done']);
    });
});
//# sourceMappingURL=ConnectableObservable-spec.js.map