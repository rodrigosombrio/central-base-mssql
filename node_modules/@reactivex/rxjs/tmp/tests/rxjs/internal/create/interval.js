"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Subscription_1 = require("rxjs/internal/Subscription");
var asyncScheduler_1 = require("rxjs/internal/scheduler/asyncScheduler");
var Observable_1 = require("rxjs/internal/Observable");
function interval(interval, scheduler) {
    if (scheduler === void 0) { scheduler = asyncScheduler_1.asyncScheduler; }
    interval = Math.max(0, interval);
    return new Observable_1.Observable(function (subscriber) {
        var subscription = new Subscription_1.Subscription();
        scheduler.schedule(intervalWork, interval, { i: 0, subscription: subscription, interval: interval, subscriber: subscriber, scheduler: scheduler }, subscription);
        return subscription;
    });
}
exports.interval = interval;
function intervalWork(state) {
    var subscription = state.subscription, subscriber = state.subscriber, interval = state.interval, scheduler = state.scheduler;
    if (!subscription.closed) {
        subscriber.next(state.i++);
        scheduler.schedule(intervalWork, interval, state, subscription);
    }
}
exports.intervalWork = intervalWork;
//# sourceMappingURL=interval.js.map