"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Observable_1 = require("rxjs/internal/Observable");
var from_1 = require("./from");
var userFunction_1 = require("../util/userFunction");
function defer(fn) {
    return new Observable_1.Observable(function (subscriber) {
        var result = userFunction_1.tryUserFunction(function () { return from_1.from(fn()); });
        if (userFunction_1.resultIsError(result)) {
            subscriber.error(result.error);
            return undefined;
        }
        else {
            return result.subscribe(subscriber);
        }
    });
}
exports.defer = defer;
//# sourceMappingURL=defer.js.map