"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var userFunction_1 = require("rxjs/internal/util/userFunction");
function filter(predicate) {
    return function (source) { return source.lift(filterOperator(predicate)); };
}
exports.filter = filter;
function filterOperator(predicate) {
    return function filterLifted(source) {
        var mut = this;
        var _next = mut.next;
        var _index = 0;
        mut.next = function (value) {
            var result = userFunction_1.tryUserFunction(predicate, [value, _index++]);
            if (userFunction_1.resultIsError(result)) {
                mut.error(result.error);
            }
            else {
                if (result) {
                    _next(value);
                }
            }
        };
        return source.subscribe(mut);
    };
}
//# sourceMappingURL=filter.js.map