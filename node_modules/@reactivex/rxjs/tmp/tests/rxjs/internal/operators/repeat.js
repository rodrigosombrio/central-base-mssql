"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var EMPTY_1 = require("rxjs/internal/EMPTY");
var recycleSubscription_1 = require("rxjs/internal/util/recycleSubscription");
function repeat(count) {
    if (count === void 0) { count = Number.POSITIVE_INFINITY; }
    count = count < 0 ? Number.POSITIVE_INFINITY : count;
    return function (source) { return count === 0 ? EMPTY_1.EMPTY : source.lift(repeatOperator(count)); };
}
exports.repeat = repeat;
function repeatOperator(count) {
    return function repeatLifted(source) {
        var mut = this;
        var _complete = mut.complete;
        var counter = 0;
        mut.complete = function () {
            if (++counter < count) {
                recycleSubscription_1.recycleSubscription(mut.subscription);
                source.subscribe(mut);
            }
            else {
                _complete();
            }
        };
        return source.subscribe(mut);
    };
}
//# sourceMappingURL=repeat.js.map